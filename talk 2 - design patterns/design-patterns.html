<!doctype html>
<html lang="en-GB">
<head>

<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, width=device-width">
<title>Design Patterns</title>

<link rel="stylesheet" href="../reveal/css/reveal.css">
<link rel="stylesheet" href="../reveal/css/theme/black.css">
<link rel="stylesheet" href="../reveal/lib/css/zenburn.css">
<link rel="stylesheet" href="../custom.css">
<link rel="stylesheet" href="../reveal/css/print/pdf.css" media="print">

</head>
<body>

<div class="reveal">
    <div class="slides">

<section>
    <h1>Design Patterns</h1>
    <p>Common OOP patterns.</p>
</section>

<section>

    <section>

<style>
.display {
    transition: all .2s ease;
}

.display-blue {
    color: #1b91ff;
}

.display-green {
    color: #17ff2e;
}

.boxes {
    display: flex;
    flex-flow: row nowrap;
    justify-content: space-around;
}

.box {
    font-size: 0.5em;
    text-align: left;
}

.box .box__list {
    list-style-type: none;
    margin: 0;
    padding: 0;
}

.books {
    display: flex;
    flex-flow: row nowrap;
    justify-content: space-around;
}

.book {
    font-size: 0.5em;
}

.reveal .book > img {
    max-height: 15vh;
}
</style>

        <div class="boxes">
            <div class="box">
                <h2 class="box__title">Creational</h2>
                <ul class="box__list">
                    <li>Abstract factory</li>
                    <li>Builder</li>
                    <li class="js--fragment--one js--fragment--two // display">Factory</li>
                    <li>Prototype</li>
                    <li class="js--fragment--one js--fragment--two // display">Singleton</li>
                </ul>
            </div>
            <div class="box">
                <h2 class="box__title">Structural</h2>
                <ul class="box__list">
                    <li class="js--fragment--one js--fragment--two // display">Adapter</li>
                    <li class="js--fragment--one // display">Bridge</li>
                    <li class="js--fragment--one js--fragment--two // display">Composite</li>
                    <li class="js--fragment--one js--fragment--two // display">Decorator</li>
                    <li class="js--fragment--one // display">Facade</li>
                    <li class="js--fragment--one // display">Flyweight</li>
                    <li class="js--fragment--one // display">Proxy</li>
                </ul>
            </div>
            <div class="box">
                <h2 class="box__title">Behavioural</h2>
                <ul class="box__list">
                    <li class="js--fragment--one // display">Chain of responsibility</li>
                    <li class="js--fragment--one // display">Command</li>
                    <li>Interpreter</li>
                    <li class="js--fragment--two // display">Iterator</li>
                    <li>Mediator</li>
                    <li>Memento</li>
                    <li class="js--fragment--one js--fragment--two // display">Observer</li>
                    <li>State</li>
                    <li>Strategy</li>
                    <li>Template method</li>
                    <li>Visitor</li>
                </ul>
            </div>
        </div>

        <div class="books">

            <figure class="book">
                <img src="./design-patterns-book.jpg">
                <figcaption>Design Patterns (1994)</figcaption>
            </figure>

            <figure class="book // fragment" id="pro-js-dp">
                <img src="./pro-js-design-patterns-book.jpg">
                <figcaption>Pro JavaScript Design Patterns (2008)</figcaption>
            </figure>

        </div>

        <div class="fragment" id="this-talk"></div>

    </section>

</section>

<section>

    <section>
        <h2>Composite Pattern</h2>
    </section>

    <section>

    </section>

</section>

<!--
Decorator Pattern.
Composite Pattern.
Adapter Pattern.
Observer Pattern. (but in OOP ...)
Factory Pattern. (it's mentioned a load of times ...)
Iterator Pattern. (https://en.wikipedia.org/wiki/Iterator_pattern)
Singleton Pattern.
-->



<section id="questions">
    <h1>Any questions?</h1>
</section>

    </div>
</div>



<!-- <script src="../reveal/lib/js/head.min.js"></script> -->
<script src="../reveal/js/reveal.js"></script>
<script>
Reveal.configure({
    pdfSeparateFragments: false,
    pdfMaxPagesPerSlide: 1
});
Reveal.initialize({
    dependencies: [
        // Speaker notes.
        {
            src: "../reveal/plugin/notes/notes.js",
            async: true
        },
        // Syntax highlighting.
        {
            src: "../reveal/plugin/highlight/highlight.js",
            async: true,
            callback: function () {
                hljs.initHighlightingOnLoad();
            }
        },
        // PDF printing.
        {
            src: "../reveal/plugin/print-pdf/print-pdf.js",
            async: true
        }
    ]
});

/*
var fragSelectors = Array.prototype.reduce.call(
    document.querySelectorAll("[data-fragment]"),
    function (unique, el) {

        if (!unique.includes(el.dataset.fragment)) {
            unique.push(el.dataset.fragment);
        }

        return unique;

    },
    []
);
Reveal.addEventListener("fragmentshown", function (e) {

    var fragment = e.fragment;

    fragSelectors.forEach(function (fragSelector) {

        if (fragment.matches(fragSelector)) {

            document.querySelectorAll("[data-fragment=\"" + fragSelector + "\"]").forEach(function (frag) {
                frag.classList.add("visible");
            });

        }

    });

});
*/

var colourFrags = [
    {
        check: "#pro-js-dp",
        find: ".js--fragment--one",
        className: "display-blue"
    },
    {
        check: "#this-talk",
        find: ".js--fragment--two",
        className: "display-green"
    }
];

Reveal.addEventListener("fragmentshown", ({ fragment }) => {

    colourFrags.forEach(({ check, find, className }) => {

        if (fragment.matches(check)) {

            document.querySelectorAll(find).forEach(function (el) {
                el.classList.add(className);
            });

        }

    });

});

Reveal.addEventListener("fragmenthidden", ({ fragment }) => {

    colourFrags.forEach(({ check, find, className }) => {

        if (fragment.matches(check)) {

            document.querySelectorAll(find).forEach(function (el) {
                el.classList.remove(className);
            });

        }

    });

});
</script>

</body>
</html>
